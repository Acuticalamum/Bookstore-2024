# 需求分析文档

## 数据流与数据词典

### 数据类：用户
用户为一个抽象类，下有具体四个派生子类：游客，顾客，销售人员和店长。
不同用户之间通过ID识别。
在四个派生子类内部分别实现自己的功能。

#### 游客
仅有两个功能：
- 注册
- 登录
  
#### 顾客
在游客的功能基础上追加：
- 查询
- 购买
  
#### 销售人员
在顾客的功能基础上追加：
- 录入图书信息
- 修改图书信息
- 进货（修改图书的数量，同时修改工作日志和财务报表）
- 创建用户
  
#### 店长
在销售人员的功能基础上追加：
- 查询采购信息
- 查询销售信息
- 查询财务报表
- 查询员工的操作日志
- 查询系统日志

### 数据类：图书
这个数据类中应包含以下信息：
- ISBN号（识别每个图书的唯一标识，20个字符）
- 书名（60个字符）
- 作者（60个字符）
- 关键字（若干个tag，总数不超过60个字符）
- 库存量（整型）
- 单价（double型）

### 数据类：图书变动
这个数据类中应包含以下信息：
- 这次变动的ID（识别每次变动的唯一标识）
- ISBN号
- 价格
- 数量
这个数据类派生出两个子类：购买和出售。

### 数据类：日志
这个数据类中应包含以下信息：
- 日志ID（识别日志的唯一标识）
- 用户ID
- 用户的操作类型
- 用户的操作内容

## 功能说明及用户交互设计
- 注册：register id password 类型 从销售人员端新建一个指定类型账户
- 登录：login id password 
- 购买图书 buy id cnt
- 添加图书 add_book ISBN name author tag storage price
- 修改图书 modify_book ISBN name author tag storage price
- 删除图书 delete_book
- 查询图书 query_book \[ISBN\] \[name\] \[author\] \[tag\]
- 销售图书
- 进货 storage
- 添加日志
- 查询采购信息 query_purchase
- 查询销售信息 query_sale
- 查询财务报表 query_finance
- 查询员工的操作日志 query_operation
- 查询系统日志 query_log
